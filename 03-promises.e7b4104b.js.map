{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,UAGS,CACLC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,mBAC/BI,UAAWL,SAASC,cAAc,2BAKjCF,KAAKO,iBAAiB,UAAU,SAAAC,GACnCA,EAAEC,iBACF,IACgCC,EAelC,SAAuBC,GACrB,IAAMX,EAAO,GAIb,OAHAW,EAASC,SAAQ,SAACC,EAAOC,GACvBd,EAAKc,GAAQD,C,IAERb,C,CApByBe,CADjB,IAAIC,SAASR,EAAES,iBAoChC,SAA2BC,G,IAAEf,EAAFe,EAAEf,MAAOE,EAATa,EAASb,OAAQD,EAAjBc,EAAiBd,KAC1Ce,YAAW,WAGT,I,kBACEA,YAAW,WAjBjB,IAAsBC,EAAEC,EAAUC,EAkB1BC,GAAUC,OAAOpB,GAlBDiB,GAAFD,EAmBD,CAAEK,WAAUF,WAnBTE,SAAUH,EAAZF,EAAYG,OAnBlC,SAAuBL,G,IAAEO,EAAFP,EAAEO,SAAUF,EAAZL,EAAYK,OACjC,OAAO,IAAIG,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEF,WAAUF,WAEpBK,EAAO,CAAEH,WAAUF,U,IAcvBQ,CAAc,CAAEN,SAAAJ,EAAUE,OAAAD,IACvBU,MAAK,SAAAd,G,IAAGO,EAAQP,EAARO,SAAUF,EAAML,EAANK,O,OACjBU,EAAAnC,GAASoC,OAAOC,QACd,uBAAwCC,OAAfX,EAAS,QAAaW,OAAPb,EAAO,O,IAGlDc,OAAM,SAAAnB,G,IAAGO,EAAQP,EAARO,SAAUF,EAAML,EAANK,O,OAClBU,EAAAnC,GAASoC,OAAOI,QAAQ,sBAAqCF,OAAfX,EAAS,QAAaW,OAAPb,EAAO,O,MAYjEgB,GACHA,GAAef,OAAOpB,E,EAPpBmC,EAAcf,OAAOpB,GACrBmB,EAAS,EACJiB,EAAW,EAAGA,GAAYnC,EAAQmC,GAAY,EAACC,EAAAD,E,GAOvDrC,E,CA7CHuC,CAAkB,CAAEvC,MADYO,EAAxBP,MACmBE,OADKK,EAAjBL,OACoBD,KADHM,EAATN,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction getRefs() {\n  return {\n    form: document.querySelector('.form'),\n    delay: document.querySelector('[name=\"delay\"]'),\n    step: document.querySelector('[name=\"step\"]'),\n    amount: document.querySelector('[name=\"amount\"]'),\n    btnSubmit: document.querySelector('button[type=\"submit\"]'),\n  };\n}\nconst refs = getRefs();\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  let formData = new FormData(e.currentTarget);\n  const { delay, amount, step } = adoptFormData(formData);\n  timeOutForPromice({ delay, amount, step });\n});\n\nfunction createPromise({ position, delays }) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delays });\n    } else {\n      reject({ position, delays });\n    }\n  });\n}\n\nfunction adoptFormData(formData) {\n  const form = {};\n  formData.forEach((value, name) => {\n    form[name] = value;\n  });\n  return form;\n}\n\nfunction onRunPromice({ position, delays }) {\n  createPromise({ position, delays })\n    .then(({ position, delays }) =>\n      Notiflix.Notify.success(\n        `✅ Fulfilled promise ${position} in ${delays} ms`\n      )\n    )\n    .catch(({ position, delays }) =>\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delays} ms`)\n    );\n}\n\nfunction timeOutForPromice({ delay, amount, step }) {\n  setTimeout(() => {\n    let stepPromice = Number(step);\n    let delays = 0;\n    for (let position = 1; position <= amount; position += 1) {\n      setTimeout(() => {\n        delays += Number(step);\n        onRunPromice({ position, delays });\n      }, stepPromice);\n      stepPromice += Number(step);\n    }\n  }, delay);\n}\n"],"names":["$iU1Pc","parcelRequire","form","document","querySelector","delay","step","amount","btnSubmit","addEventListener","e","preventDefault","ref","formData","forEach","value","name","$ce04d3a99e08e73b$var$adoptFormData","FormData","currentTarget","param","setTimeout","param1","position1","delays1","delays","Number","position","Promise","resolve","reject","Math","random","$ce04d3a99e08e73b$var$createPromise","then","$parcel$interopDefault","Notify","success","concat","catch","failure","stepPromice","position2","_loop","$ce04d3a99e08e73b$var$timeOutForPromice"],"version":3,"file":"03-promises.e7b4104b.js.map"}