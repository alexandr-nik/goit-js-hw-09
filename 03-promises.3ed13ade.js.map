{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAoBA,SAASC,GAAcC,SAAEA,EAAQC,OAAEA,IACjC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,aAAY,KACNH,EACFF,EAAQ,C,SAAEH,E,OAAUC,IAEpBG,EAAO,C,SAAEJ,E,OAAUC,GAAS,GAE7BA,EAAO,G,EA1BL,CACLQ,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,mBAC/BI,UAAWL,SAASC,cAAc,2BAKjCF,KAAKO,iBAAiB,UAAUC,IACnCA,EAAEC,iBACF,IAAIC,EAAW,IAAIC,SAASH,EAAEI,eAC9B,MAAMT,MAAEA,EAAKE,OAAEA,EAAMD,KAAEA,GAiBzB,SAAuBM,GACrB,MAAMV,EAAO,GAIb,OAHAU,EAASG,SAAQ,CAACC,EAAOC,KACvBf,EAAKe,GAAQD,CAAK,IAEbd,C,CAtByBgB,CAAcN,IAyBhD,UAA2BP,MAAEA,EAAKE,OAAEA,EAAMD,KAAEA,IAC1C,IAAIa,EAASC,OAAOf,GACpB,MAAMgB,EAAUD,OAAOb,GACjBe,EAAQF,OAAOd,GAErB,IAAK,IAAIiB,EAAW,EAAGA,GAAYF,EAASE,GAAY,EACtD/B,EAAc,CAAEC,SAAA8B,EAAU7B,OAAAyB,IACvBK,MAAK,EAAC/B,SAAEA,EAAQC,OAAEA,KACjB+B,EAAAnC,GAASoC,OAAOC,QACd,uBAAqBlC,QAAiBC,UACrCkC,OAEJ,EAAOnC,WAAUC,YAChB+B,EAAAnC,GAAQoC,OAACG,QAAO,sBACbpC,QAA8BC,UAGrCyB,GAAUG,C,CAzCZQ,CAAkB,C,MAAEzB,E,OAAOE,E,KAAQD,GAAO","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction getRefs() {\n  return {\n    form: document.querySelector('.form'),\n    delay: document.querySelector('[name=\"delay\"]'),\n    step: document.querySelector('[name=\"step\"]'),\n    amount: document.querySelector('[name=\"amount\"]'),\n    btnSubmit: document.querySelector('button[type=\"submit\"]'),\n  };\n}\nconst refs = getRefs();\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  let formData = new FormData(e.currentTarget);\n  const { delay, amount, step } = adoptFormData(formData);\n  timeOutForPromice({ delay, amount, step });\n});\n\nfunction createPromise({ position, delays }) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setInterval(() => {\n      if (shouldResolve) {\n        resolve({ position, delays });\n      } else {\n        reject({ position, delays });\n      }\n    }, delays);\n  });\n}\n\nfunction adoptFormData(formData) {\n  const form = {};\n  formData.forEach((value, name) => {\n    form[name] = value;\n  });\n  return form;\n}\n\nfunction timeOutForPromice({ delay, amount, step }) {\n  let delays = Number(delay);\n  const amounts = Number(amount);\n  const steps = Number(step);\n\n  for (let position = 1; position <= amounts; position += 1) {\n    createPromise({ position, delays })\n      .then(({ position, delays }) =>\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delays} ms`\n        )\n      )\n      .catch(({ position, delays }) =>\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delays} ms`\n        )\n      );\n    delays += steps;\n  }\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$createPromise","position","delays","Promise","resolve","reject","shouldResolve","Math","random","setInterval","form","document","querySelector","delay","step","amount","btnSubmit","addEventListener","e","preventDefault","formData","FormData","currentTarget","forEach","value","name","$47d4ff9957288465$var$adoptFormData","delays1","Number","amounts","steps","position1","then","$parcel$interopDefault","Notify","success","catch","failure","$47d4ff9957288465$var$timeOutForPromice"],"version":3,"file":"03-promises.3ed13ade.js.map"}