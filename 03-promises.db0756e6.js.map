{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAoBA,SAASC,EAAcC,G,IAAEC,EAAFD,EAAEC,SAAUC,EAAZF,EAAYE,OACjC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,aAAY,WACNH,EACFF,EAAQ,CAAEH,WAAUC,WAEpBG,EAAO,CAAEJ,WAAUC,U,GAEpBA,E,KA1BE,CACLQ,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,mBAC/BI,UAAWL,SAASC,cAAc,2BAKjCF,KAAKO,iBAAiB,UAAU,SAAAC,GACnCA,EAAEC,iBACF,IACgCC,EAiBlC,SAAuBC,GACrB,IAAMX,EAAO,GAIb,OAHAW,EAASC,SAAQ,SAACC,EAAOC,GACvBd,EAAKc,GAAQD,C,IAERb,C,CAtByBe,CADjB,IAAIC,SAASR,EAAES,iBA0BhC,SAA2BC,GAKzB,I,IAL2Bf,EAAFe,EAAEf,MAAOE,EAATa,EAASb,OAAQD,EAAjBc,EAAiBd,KACtCe,EAASC,OAAOjB,GACdkB,EAAUD,OAAOf,GACjBiB,EAAQF,OAAOhB,GAEZmB,EAAW,EAAGA,GAAYF,EAASE,GAAY,EACtDlC,EAAc,CAAEE,SAAAgC,EAAU/B,OAAA2B,IACvBK,MAAK,SAAAlC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAMF,EAANE,O,OACjBiC,EAAAtC,GAASuC,OAAOC,QACd,uBAAwCC,OAAfrC,EAAS,QAAaqC,OAAPpC,EAAO,O,IAGlDqC,OAAM,SAAAvC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAMF,EAANE,O,OAClBiC,EAAAtC,GAASuC,OAAOI,QACd,sBAAqCF,OAAfrC,EAAS,QAAaqC,OAAPpC,EAAO,O,IAGlD2B,GAAUG,C,CAzCZS,CAAkB,CAAE5B,MADYO,EAAxBP,MACmBE,OADKK,EAAjBL,OACoBD,KADHM,EAATN,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction getRefs() {\n  return {\n    form: document.querySelector('.form'),\n    delay: document.querySelector('[name=\"delay\"]'),\n    step: document.querySelector('[name=\"step\"]'),\n    amount: document.querySelector('[name=\"amount\"]'),\n    btnSubmit: document.querySelector('button[type=\"submit\"]'),\n  };\n}\nconst refs = getRefs();\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  let formData = new FormData(e.currentTarget);\n  const { delay, amount, step } = adoptFormData(formData);\n  timeOutForPromice({ delay, amount, step });\n});\n\nfunction createPromise({ position, delays }) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setInterval(() => {\n      if (shouldResolve) {\n        resolve({ position, delays });\n      } else {\n        reject({ position, delays });\n      }\n    }, delays);\n  });\n}\n\nfunction adoptFormData(formData) {\n  const form = {};\n  formData.forEach((value, name) => {\n    form[name] = value;\n  });\n  return form;\n}\n\nfunction timeOutForPromice({ delay, amount, step }) {\n  let delays = Number(delay);\n  const amounts = Number(amount);\n  const steps = Number(step);\n\n  for (let position = 1; position <= amounts; position += 1) {\n    createPromise({ position, delays })\n      .then(({ position, delays }) =>\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delays} ms`\n        )\n      )\n      .catch(({ position, delays }) =>\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delays} ms`\n        )\n      );\n    delays += steps;\n  }\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$createPromise","param","position","delays","Promise","resolve","reject","shouldResolve","Math","random","setInterval","form","document","querySelector","delay","step","amount","btnSubmit","addEventListener","e","preventDefault","ref","formData","forEach","value","name","$ce04d3a99e08e73b$var$adoptFormData","FormData","currentTarget","param1","delays1","Number","amounts","steps","position1","then","$parcel$interopDefault","Notify","success","concat","catch","failure","$ce04d3a99e08e73b$var$timeOutForPromice"],"version":3,"file":"03-promises.db0756e6.js.map"}