{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAuCA,SAASC,GAAeC,SAAAC,EAAUC,OAAAC,KAnBlC,UAAuBH,SAAEA,EAAQE,OAAEA,IACjC,OAAO,IAAIE,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,C,SAAEL,E,OAAUE,IAEpBI,EAAO,C,SAAEN,E,OAAUE,GAAS,G,EAchCO,CAAc,CAAET,SAAAC,EAAUC,OAAAC,IACvBO,MAAK,EAACV,SAAEA,EAAQE,OAAEA,KACjBS,EAAAd,GAASe,OAAOC,QACd,uBAAqBb,QAAiBE,UACrCY,OAEJ,EAAOd,WAAUE,YAChBS,EAAAd,GAAQe,OAACG,QAAO,sBAASf,QAA8BE,S,EA5CpD,CACLc,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,mBAC/BI,UAAWL,SAASC,cAAc,2BAKjCF,KAAKO,iBAAiB,UAAUC,IACnCA,EAAEC,iBACF,IAAIC,EAAW,IAAIC,SAASH,EAAEI,eAC9B,MAAMT,MAAEA,EAAKE,OAAEA,EAAMD,KAAEA,GAezB,SAAuBM,GACrB,MAAMV,EAAO,GAIb,OAHAU,EAASG,SAAQ,CAACC,EAAOC,KACvBf,EAAKe,GAAQD,CAAK,IAEbd,C,CApByBgB,CAAcN,IAmChD,UAA2BP,MAAEA,EAAKE,OAAEA,EAAMD,KAAEA,IAC1Ca,YAAW,KACT,IAAIC,EAAcC,OAAOf,GACrBlB,EAAS,EACb,IAAK,IAAIF,EAAW,EAAGA,GAAYqB,EAAQrB,GAAY,EACrDiC,YAAW,KACT/B,GAAUiC,OAAOf,GACjBrB,EAAa,C,SAAEC,E,OAAUE,GAAS,GACjCgC,GACHA,GAAeC,OAAOf,E,GAEvBD,E,CA7CHiB,CAAkB,C,MAAEjB,E,OAAOE,E,KAAQD,GAAO","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction getRefs() {\n  return {\n    form: document.querySelector('.form'),\n    delay: document.querySelector('[name=\"delay\"]'),\n    step: document.querySelector('[name=\"step\"]'),\n    amount: document.querySelector('[name=\"amount\"]'),\n    btnSubmit: document.querySelector('button[type=\"submit\"]'),\n  };\n}\nconst refs = getRefs();\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  let formData = new FormData(e.currentTarget);\n  const { delay, amount, step } = adoptFormData(formData);\n  timeOutForPromice({ delay, amount, step });\n});\n\nfunction createPromise({ position, delays }) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delays });\n    } else {\n      reject({ position, delays });\n    }\n  });\n}\n\nfunction adoptFormData(formData) {\n  const form = {};\n  formData.forEach((value, name) => {\n    form[name] = value;\n  });\n  return form;\n}\n\nfunction onRunPromice({ position, delays }) {\n  createPromise({ position, delays })\n    .then(({ position, delays }) =>\n      Notiflix.Notify.success(\n        `✅ Fulfilled promise ${position} in ${delays} ms`\n      )\n    )\n    .catch(({ position, delays }) =>\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delays} ms`)\n    );\n}\n\nfunction timeOutForPromice({ delay, amount, step }) {\n  setTimeout(() => {\n    let stepPromice = Number(step);\n    let delays = 0;\n    for (let position = 1; position <= amount; position += 1) {\n      setTimeout(() => {\n        delays += Number(step);\n        onRunPromice({ position, delays });\n      }, stepPromice);\n      stepPromice += Number(step);\n    }\n  }, delay);\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$onRunPromice","position","position1","delays","delays1","Promise","resolve","reject","Math","random","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure","form","document","querySelector","delay","step","amount","btnSubmit","addEventListener","e","preventDefault","formData","FormData","currentTarget","forEach","value","name","$47d4ff9957288465$var$adoptFormData","setTimeout","stepPromice","Number","$47d4ff9957288465$var$timeOutForPromice"],"version":3,"file":"03-promises.2a50b135.js.map"}